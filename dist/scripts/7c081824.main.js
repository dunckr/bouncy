!function(){window.bouncy={init:function(){"use strict";var a;return a=new bouncy.Game}},$(function(){"use strict";return bouncy.init()})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};bouncy.Ball=function(b){function d(b,c,e,f,g,h){this.fill=null!=e?e:"red",this.speedX=null!=f?f:1,this.speedY=null!=g?g:1,this.size=null!=h?h:10,this.update=a(this.update,this),d.__super__.constructor.apply(this,arguments),this.setup(b,c),this.events()}return c(d,b),_.extend(d.prototype,Backbone.Events),d.prototype.setup=function(a,b){return this.graphics.beginFill(this.fill).drawCircle(0,0,this.size),this.move(a,b)},d.prototype.events=function(){return bouncy.Timer.on("update",this.update)},d.prototype.move=function(a,b){return this.x+=a,this.y+=b},d.prototype.update=function(){var a,b,c,d,e,f,g;for((this.x+this.size>=200||this.x-this.size<=0)&&(this.speedX*=-1),(this.y+this.size>=150||this.y-this.size<=0)&&(this.speedY*=-1),g=bouncy.objects,e=0,f=g.length;f>e;e++)a=g[e],this.id!==a.id&&(b=this.x-a.x,c=this.y-a.y,d=this.size,Math.abs(b)<d&&Math.abs(c)<d&&Math.sqrt(b*b+c*c)<d&&(this.speedX*=-1,this.speedY*=-1,a.speedX*=-1,a.speedY*=-1));return this.move(this.speedX,this.speedY)},d}(createjs.Shape)}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};bouncy.Catch=function(){function b(b){this.stage=b,this.mouseMove=a(this.mouseMove,this),this.mouseDown=a(this.mouseDown,this),this.mouseUp=a(this.mouseUp,this),this.events(),this.start,this.pts=[],this.end,this.oldPt,this.oldMidPt,this.midPt}return _.extend(b.prototype,Backbone.Events),b.prototype.events=function(){return bouncy.Input.on("mouseUp",this.mouseUp),bouncy.Input.on("mouseDown",this.mouseDown)},b.prototype.mouseUp=function(a){var b,c;return this.end=new createjs.Point(a.stageX,a.stageY),b=this.start.x-0,c=this.start.y-0,.2>b&&.2>c&&(console.log("CIRCLE OF LIFE!!!"),console.log(b+" "+c)),this.pts=[],bouncy.Input.off("mouseMove",this.mouseMove)},b.prototype.mouseDown=function(a){return this.start=this.oldPt=new createjs.Point(a.stageX,a.stageY),this.oldMidPt=this.oldPt,bouncy.Input.on("mouseMove",this.mouseMove)},b.prototype.mouseMove=function(a){var b,c,d,e,f,g;for(this.midPt=new createjs.Point(this.oldPt.x+a.stageX>>1,this.oldPt.y+a.stageY>>1),this.pts.push(this.midPt),a.target.addChild(new bouncy.Line(this.midPt.x,this.midPt.y,this.oldPt.x,this.oldPt.y,this.oldMidPt.x,this.oldMidPt.y)),this.oldPt.x=a.stageX,this.oldPt.y=a.stageY,this.oldMidPt.x=this.midPt.x,this.oldMidPt.y=this.midPt.y,f=bouncy.objects,g=[],d=0,e=f.length;e>d;d++)b=f[d],g.push(function(){var a,d,e,f;for(e=this.pts,f=[],a=0,d=e.length;d>a;a++)c=e[a],b.x===c.x&&b.y===c.y?f.push(console.log("BATTLESHIP DOWN!!!")):f.push(void 0);return f}.call(this));return g},b}()}.call(this),function(){bouncy.Game=function(){function a(a){this.id=null!=a?a:"game",this.init(),this.setLevelNumber(),this.levelSetup()}return a.prototype.init=function(){return this.stage=new bouncy.Stage(this.id,this.determineDimensions())},a.prototype.setLevelNumber=function(){return this.levelNumber=0},a.prototype.determineDimensions=function(){return{width:800,height:400}},a.prototype.levelSetup=function(){var a,b,c,d,e;for(bouncy.objects=[],bouncy.objects.push(new bouncy.Ball(100,100,"blue")),bouncy.objects.push(new bouncy.Ball(10,50,"yellow")),bouncy.objects.push(new bouncy.Ball(40,30,"green")),bouncy.objects.push(new bouncy.Ball(20,10,"red")),bouncy.objects.push(new bouncy.Ball(60,70,"black")),bouncy.objects.push(new bouncy.Ball(65,70,"orange")),bouncy.objects.push(new bouncy.Ball(140,10,"pink")),bouncy.objects.push(new bouncy.Ball(90,90,"purple")),e=bouncy.objects,c=0,d=e.length;d>c;c++)a=e[c],this.stage.add(a);return b=new bouncy.Catch(this.stage1)},a}()}.call(this),function(){var a,b=[].slice;bouncy.Input=function(){function c(){}var d;return d=void 0,c.instance=function(){return null!=d?d:d=new a},c.on=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).on.apply(c,a)},c.off=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).off.apply(c,a)},c.mouseUp=function(a){return this.instance().mouseUp(a)},c.mouseDown=function(a){return this.instance().mouseDown(a)},c.mouseMove=function(a){return this.instance().mouseMove(a)},c}(),a=function(){function a(){}return _.extend(a.prototype,Backbone.Events),a.prototype.mouseUp=function(a){return this.trigger("mouseUp",a)},a.prototype.mouseDown=function(a){return this.trigger("mouseDown",a)},a.prototype.mouseMove=function(a){return this.trigger("mouseMove",a)},a}()}.call(this),function(){bouncy.Instances=function(){function a(){}var b;return b=void 0,a.instance=function(){return null!=b?b:b=new bouncy._Instances},a.getBall=function(){return this.instance().getBall()},a.createBall=function(a,b){return this.instance().createBall(a,b)},a}(),bouncy._Instances=function(){function a(){}return a.prototype.getBall=function(){return this.ball},a.prototype.createBall=function(a,b){return this.ball=new bouncy.Ball(a,b)},a}()}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};bouncy.Line=function(a){function c(a,b,d,e,f,g,h,i){this.fill=null!=h?h:"red",this.size=null!=i?i:10,c.__super__.constructor.apply(this,arguments),this.setup(a,b,d,e,f,g)}return b(c,a),c.prototype.setup=function(a,b,c,d,e,f){return this.graphics.clear().setStrokeStyle(5,"round","round").beginStroke(this.fill).moveTo(a,b).curveTo(c,d,e,f)},c}(createjs.Shape)}.call(this),function(){}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].slice;bouncy.Stage=function(a){function d(a,b){this.el=$("#"+a),this.initialize(a),this.setDimensions(b),this.setupEvents()}return b(d,a),d.prototype.setDimensions=function(a){return this.el.width(a.width).height(a.height)},d.prototype.setColor=function(a){return this.el.css("background-color",a)},d.prototype.setupEvents=function(){return this.enableDOMEvents(!0),createjs.Touch.enable(this),createjs.Ticker.setFPS(24),createjs.Ticker.addListener(this),this.addEventListener("stagemouseup",this.handleMouseUp),this.addEventListener("stagemousedown",this.handleMouseDown),this.addEventListener("stagemousemove",this.handleMouseMove)},d.prototype.add=function(){var a;return a=1<=arguments.length?c.call(arguments,0):[],this.addChild.apply(this,a)},d.prototype.tick=function(){return bouncy.Timer.update(),this.update()},d.prototype.update=function(){return d.__super__.update.apply(this,arguments)},d.prototype.handleMouseUp=function(a){return bouncy.Input.mouseUp(a)},d.prototype.handleMouseDown=function(a){return bouncy.Input.mouseDown(a)},d.prototype.handleMouseMove=function(a){return bouncy.Input.mouseMove(a)},d}(createjs.Stage)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};bouncy.Text=function(a){function c(a,b,c){this.initialize(a,"36px Arial","#777"),this.x=b,this.y=c}return b(c,a),c}(createjs.Text)}.call(this),function(){var a,b=[].slice;bouncy.Timer=function(){function c(){}var d;return d=void 0,c.instance=function(){return null!=d?d:d=new a},c.update=function(){return this.instance().update()},c.on=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).on.apply(c,a)},c}(),a=function(){function a(){}return _.extend(a.prototype,Backbone.Events),a.prototype.update=function(){return this.trigger("update")},a}()}.call(this),this.JST=this.JST||{};