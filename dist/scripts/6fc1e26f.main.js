!function(){window.bouncy={init:function(){"use strict";var a;return a=new bouncy.Game}},$(function(){"use strict";return bouncy.init()})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};bouncy.Ball=function(b){function d(b,c,e,f,g,h){this.fill=null!=e?e:"red",this.speedX=null!=f?f:1,this.speedY=null!=g?g:1,this.size=null!=h?h:10,this.update=a(this.update,this),d.__super__.constructor.apply(this,arguments),this.setup(b,c),this.events()}return c(d,b),_.extend(d.prototype,Backbone.Events),d.prototype.setup=function(a,b){return this.graphics.beginFill(this.fill).drawCircle(0,0,this.size),this.move(a,b)},d.prototype.events=function(){return bouncy.Timer.on("update",this.update)},d.prototype.move=function(a,b){return this.x+=a,this.y+=b},d.prototype.update=function(){var a,b,c,d,e,f,g;for((this.x+this.size>=200||this.x-this.size<=0)&&(this.speedX*=-1),(this.y+this.size>=150||this.y-this.size<=0)&&(this.speedY*=-1),g=bouncy.objects,e=0,f=g.length;f>e;e++)a=g[e],this.id!==a.id&&(b=this.x-a.x,c=this.y-a.y,d=this.size,Math.abs(b)<d&&Math.abs(c)<d&&Math.sqrt(b*b+c*c)<d&&(this.speedX*=-1,this.speedY*=-1,a.speedX*=-1,a.speedY*=-1));return this.move(this.speedX,this.speedY)},d}(createjs.Shape)}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};bouncy.Catch=function(){function b(b){this.stage=b,this.update=a(this.update,this),this.mouseUp=a(this.mouseUp,this),this.mouseMove=a(this.mouseMove,this),this.mouseDown=a(this.mouseDown,this),this.events(),this.pts=[],this.midPt,this.oldMidPt,this.oldPt}return _.extend(b.prototype,Backbone.Events),b.prototype.events=function(){return bouncy.Input.on("mouseUp",this.mouseUp),bouncy.Input.on("mouseDown",this.mouseDown),bouncy.Timer.on("update",this.update)},b.prototype.mouseDown=function(a){return bouncy.Input.on("mouseMove",this.mouseMove),this.start=this.oldPt=new createjs.Point(a.stageX,a.stageY),this.oldMidPt=this.oldPt},b.prototype.mouseMove=function(a){var b;return this.midPt=new createjs.Point(this.oldPt.x+a.stageX>>1,this.oldPt.y+a.stageY>>1),b=new bouncy.Line(this.midPt.x,this.midPt.y,this.oldMidPt.x,this.oldMidPt.y),this.stage.add(b),this.pts.push(b),this.oldPt.x=a.stageX,this.oldPt.y=a.stageY,this.oldMidPt.x=this.midPt.x,this.oldMidPt.y=this.midPt.y},b.prototype.mouseUp=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;if(bouncy.Input.off("mouseMove",this.mouseMove),this.end=new createjs.Point(a.stageX,a.stageY),c=this.start.x-this.end.x,d=this.start.y-this.end.y,.2>c&&.2>d)for(console.log("CIRCLE OF LIFE"),l=bouncy.objects,f=0,i=l.length;i>f;f++)for(b=l[f],m=this.pts,g=0,j=m.length;j>g;g++)e=m[g],(e.y1<b.y&&e.y2>b.y||e.y1>b.y&&e.y2<b.y&&b.x<(e.y2-e.x1)*(b.y-e.y1)/(e.y2-e.y1)+e.x1)&&(console.log("this shit done happened!"),this.stage.removeChild(b),console.log(this.stage.getNumChildren()));for(n=this.pts,h=0,k=n.length;k>h;h++)e=n[h],this.stage.removeChild(e);return this.pts=[]},b.prototype.update=function(){var a,b,c,d,e,f;if(null!=this.pts){for(e=bouncy.objects,f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(function(){var c,d,e,f;for(e=this.pts,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.hitTest(a.x,a.y)?f.push(function(){var a,c,d,e;for(d=this.pts,e=[],a=0,c=d.length;c>a;a++)b=d[a],this.stage.removeChild(b),e.push(this.pts=[]);return e}.call(this)):f.push(void 0);return f}.call(this));return f}},b}()}.call(this),function(){bouncy.Game=function(){function a(a){this.id=null!=a?a:"game",this.init(),this.setLevelNumber(),this.levelSetup()}return a.prototype.init=function(){return this.stage=new bouncy.Stage(this.id,this.determineDimensions())},a.prototype.setLevelNumber=function(){return this.levelNumber=0},a.prototype.determineDimensions=function(){return{width:800,height:400}},a.prototype.levelSetup=function(){var a,b,c,d,e;for(bouncy.objects=[],bouncy.objects.push(new bouncy.Ball(40,50,"blue",.5,.5)),bouncy.objects.push(new bouncy.Ball(10,50,"yellow")),bouncy.objects.push(new bouncy.Ball(40,30,"green")),bouncy.objects.push(new bouncy.Ball(20,10,"red")),bouncy.objects.push(new bouncy.Ball(60,70,"black")),bouncy.objects.push(new bouncy.Ball(65,70,"orange")),bouncy.objects.push(new bouncy.Ball(140,10,"pink")),bouncy.objects.push(new bouncy.Ball(90,90,"purple")),e=bouncy.objects,c=0,d=e.length;d>c;c++)a=e[c],this.stage.add(a);return b=new bouncy.Catch(this.stage)},a}()}.call(this),function(){var a,b=[].slice;bouncy.Input=function(){function c(){}var d;return d=void 0,c.instance=function(){return null!=d?d:d=new a},c.on=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).on.apply(c,a)},c.off=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).off.apply(c,a)},c.mouseUp=function(a){return this.instance().mouseUp(a)},c.mouseDown=function(a){return this.instance().mouseDown(a)},c.mouseMove=function(a){return this.instance().mouseMove(a)},c}(),a=function(){function a(){}return _.extend(a.prototype,Backbone.Events),a.prototype.mouseUp=function(a){return this.trigger("mouseUp",a)},a.prototype.mouseDown=function(a){return this.trigger("mouseDown",a)},a.prototype.mouseMove=function(a){return this.trigger("mouseMove",a)},a}()}.call(this),function(){bouncy.Instances=function(){function a(){}var b;return b=void 0,a.instance=function(){return null!=b?b:b=new bouncy._Instances},a.getBall=function(){return this.instance().getBall()},a.createBall=function(a,b){return this.instance().createBall(a,b)},a}(),bouncy._Instances=function(){function a(){}return a.prototype.getBall=function(){return this.ball},a.prototype.createBall=function(a,b){return this.ball=new bouncy.Ball(a,b)},a}()}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};bouncy.Line=function(a){function c(a,b,d,e,f,g){this.x1=a,this.y1=b,this.x2=d,this.y2=e,this.fill=null!=f?f:"red",this.size=null!=g?g:10,c.__super__.constructor.apply(this,arguments),this.setup()}return b(c,a),c.prototype.setup=function(){return this.graphics.clear().setStrokeStyle(5,"round","round").beginStroke(this.fill).moveTo(this.x1,this.y1).curveTo(this.x1,this.y1,this.x2,this.y2)},c}(createjs.Shape)}.call(this),function(){}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].slice;bouncy.Stage=function(a){function d(a,b){this.el=$("#"+a),this.initialize(a),this.setDimensions(b),this.setupEvents()}return b(d,a),d.prototype.setDimensions=function(a){return this.el.width(a.width).height(a.height)},d.prototype.setColor=function(a){return this.el.css("background-color",a)},d.prototype.setupEvents=function(){return this.enableDOMEvents(!0),createjs.Touch.enable(this),createjs.Ticker.setFPS(24),createjs.Ticker.addListener(this),this.addEventListener("stagemouseup",this.handleMouseUp),this.addEventListener("stagemousedown",this.handleMouseDown),this.addEventListener("stagemousemove",this.handleMouseMove)},d.prototype.add=function(){var a;return a=1<=arguments.length?c.call(arguments,0):[],this.addChild.apply(this,a)},d.prototype.tick=function(){return bouncy.Timer.update(),this.update()},d.prototype.update=function(){return d.__super__.update.apply(this,arguments)},d.prototype.handleMouseUp=function(a){return bouncy.Input.mouseUp(a)},d.prototype.handleMouseDown=function(a){return bouncy.Input.mouseDown(a)},d.prototype.handleMouseMove=function(a){return bouncy.Input.mouseMove(a)},d}(createjs.Stage)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};bouncy.Text=function(a){function c(a,b,c){this.initialize(a,"36px Arial","#777"),this.x=b,this.y=c}return b(c,a),c}(createjs.Text)}.call(this),function(){var a,b=[].slice;bouncy.Timer=function(){function c(){}var d;return d=void 0,c.instance=function(){return null!=d?d:d=new a},c.update=function(){return this.instance().update()},c.on=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).on.apply(c,a)},c}(),a=function(){function a(){}return _.extend(a.prototype,Backbone.Events),a.prototype.update=function(){return this.trigger("update")},a}()}.call(this),this.JST=this.JST||{};