!function(){window.bouncy={init:function(){"use strict";var a;return a=new bouncy.Game}},$(function(){"use strict";return bouncy.init()})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};bouncy.Ball=function(b){function d(b,c,e,f,g,h){this.fill=null!=e?e:"red",this.speedX=null!=f?f:1,this.speedY=null!=g?g:1,this.size=null!=h?h:10,this.update=a(this.update,this),d.__super__.constructor.apply(this,arguments),this.setup(b,c),this.events()}return c(d,b),_.extend(d.prototype,Backbone.Events),d.prototype.setup=function(a,b){return this.graphics.beginFill(this.fill).drawCircle(0,0,this.size),this.move(a,b)},d.prototype.events=function(){return bouncy.Timer.on("update",this.update)},d.prototype.move=function(a,b){return this.x+=a,this.y+=b},d.prototype.update=function(){var a,b,c,d,e,f,g;for((this.x+this.size>=200||this.x-this.size<=0)&&(this.speedX*=-1),(this.y+this.size>=150||this.y-this.size<=0)&&(this.speedY*=-1),g=bouncy.objects,e=0,f=g.length;f>e;e++)a=g[e],this.id!==a.id&&(b=this.x-a.x,c=this.y-a.y,d=this.size,Math.abs(b)<d&&Math.abs(c)<d&&Math.sqrt(b*b+c*c)<d&&(this.speedX*=-1,this.speedY*=-1,a.speedX*=-1,a.speedY*=-1));return this.move(this.speedX,this.speedY)},d}(createjs.Shape)}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};bouncy.Catch=function(b){function d(){this.mouseMove=a(this.mouseMove,this),this.mouseDown=a(this.mouseDown,this),this.mouseUp=a(this.mouseUp,this),d.__super__.constructor.apply(this,arguments),this.events(),this.oldPt,this.oldMidPt,this.midPt,this.colors=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod"]}return c(d,b),_.extend(d.prototype,Backbone.Events),d.prototype.events=function(){return bouncy.Input.on("mouseUp",this.mouseUp),bouncy.Input.on("mouseDown",this.mouseDown)},d.prototype.mouseUp=function(){return bouncy.Input.off("mouseMove",this.mouseMove)},d.prototype.mouseDown=function(){return bouncy.Input.on("mouseMove",this.mouseMove)},d.prototype.mouseMove=function(a){return console.log("handling mouse move"),a.target.addChild(new bouncy.Ball(a.stageX,a.stageY,this.colors[Math.floor(Math.random()*this.colors.length)]))},d}(createjs.Shape)}.call(this),function(){bouncy.Game=function(){function a(a){this.id=null!=a?a:"game",this.init(),this.setLevelNumber(),this.levelSetup()}return a.prototype.init=function(){return this.stage=new bouncy.Stage(this.id,this.determineDimensions())},a.prototype.setLevelNumber=function(){return this.levelNumber=0},a.prototype.determineDimensions=function(){return{width:300,height:200}},a.prototype.levelSetup=function(){var a,b,c,d;for(bouncy.objects=[],bouncy.objects.push(new bouncy.Ball(100,100,"blue")),bouncy.objects.push(new bouncy.Ball(10,50,"yellow")),bouncy.objects.push(new bouncy.Ball(40,30,"green")),bouncy.objects.push(new bouncy.Ball(20,10,"red")),bouncy.objects.push(new bouncy.Ball(60,70,"black")),bouncy.objects.push(new bouncy.Ball(65,70,"orange")),bouncy.objects.push(new bouncy.Ball(140,10,"pink")),bouncy.objects.push(new bouncy.Ball(90,90,"purple")),d=bouncy.objects,b=0,c=d.length;c>b;b++)a=d[b],this.stage.add(a);return this.stage.add(new bouncy.Catch)},a}()}.call(this),function(){var a,b=[].slice;bouncy.Input=function(){function c(){}var d;return d=void 0,c.instance=function(){return null!=d?d:d=new a},c.on=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).on.apply(c,a)},c.off=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).off.apply(c,a)},c.mouseUp=function(a){return this.instance().mouseUp(a)},c.mouseDown=function(a){return this.instance().mouseDown(a)},c.mouseMove=function(a){return this.instance().mouseMove(a)},c}(),a=function(){function a(){}return _.extend(a.prototype,Backbone.Events),a.prototype.mouseUp=function(a){return this.trigger("mouseUp",a)},a.prototype.mouseDown=function(a){return this.trigger("mouseDown",a)},a.prototype.mouseMove=function(a){return this.trigger("mouseMove",a)},a}()}.call(this),function(){bouncy.Instances=function(){function a(){}var b;return b=void 0,a.instance=function(){return null!=b?b:b=new bouncy._Instances},a.getBall=function(){return this.instance().getBall()},a.createBall=function(a,b){return this.instance().createBall(a,b)},a}(),bouncy._Instances=function(){function a(){}return a.prototype.getBall=function(){return this.ball},a.prototype.createBall=function(a,b){return this.ball=new bouncy.Ball(a,b)},a}()}.call(this),function(){}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].slice;bouncy.Stage=function(a){function d(a,b){this.el=$("#"+a),this.initialize(a),this.setDimensions(b),this.setupEvents()}return b(d,a),d.prototype.setDimensions=function(a){return this.el.width(a.width).height(a.height)},d.prototype.setColor=function(a){return this.el.css("background-color",a)},d.prototype.setupEvents=function(){return this.enableDOMEvents(!0),createjs.Touch.enable(this),createjs.Ticker.setFPS(24),createjs.Ticker.addListener(this),this.addEventListener("stagemouseup",this.handleMouseUp),this.addEventListener("stagemousedown",this.handleMouseDown),this.addEventListener("stagemousemove",this.handleMouseMove)},d.prototype.add=function(){var a;return a=1<=arguments.length?c.call(arguments,0):[],this.addChild.apply(this,a)},d.prototype.tick=function(){return bouncy.Timer.update(),this.update()},d.prototype.update=function(){return d.__super__.update.apply(this,arguments)},d.prototype.handleMouseUp=function(a){return bouncy.Input.mouseUp(a)},d.prototype.handleMouseDown=function(a){return bouncy.Input.mouseDown(a)},d.prototype.handleMouseMove=function(a){return bouncy.Input.mouseMove(a)},d}(createjs.Stage)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};bouncy.Text=function(a){function c(a,b,c){this.initialize(a,"36px Arial","#777"),this.x=b,this.y=c}return b(c,a),c}(createjs.Text)}.call(this),function(){var a,b=[].slice;bouncy.Timer=function(){function c(){}var d;return d=void 0,c.instance=function(){return null!=d?d:d=new a},c.update=function(){return this.instance().update()},c.on=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance()).on.apply(c,a)},c}(),a=function(){function a(){}return _.extend(a.prototype,Backbone.Events),a.prototype.update=function(){return this.trigger("update")},a}()}.call(this),this.JST=this.JST||{};